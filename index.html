# SHEIKH_JWT_TOKEN_GENERATOR
<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Mary — JWT Token Generator</title>
  <style>
    :root{--bg:#0f1724;--card:#0b1220;--muted:#94a3b8;--accent:#6ee7b7;--accent2:#60a5fa}
    html,body{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial}
    body{background:linear-gradient(180deg,#071027 0%,#07172a 100%);color:#e6eef8;display:flex;align-items:center;justify-content:center;padding:28px}
    .app{width:100%;max-width:960px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border-radius:12px;padding:22px;box-shadow:0 8px 30px rgba(2,6,23,0.6)}
    header{display:flex;align-items:center;gap:14px;margin-bottom:12px}
    .logo{width:62px;height:62px;border-radius:10px;background:linear-gradient(135deg,var(--accent),var(--accent2));display:flex;align-items:center;justify-content:center;font-weight:700;color:#032;box-shadow:0 6px 20px rgba(99,102,241,0.12)}
    h1{font-size:20px;margin:0}
    p.lead{margin:0;color:var(--muted);font-size:13px}.grid{display:grid;grid-template-columns:1fr 420px;gap:18px}
@media (max-width:900px){.grid{grid-template-columns:1fr}}

.card{background:rgba(255,255,255,0.02);padding:14px;border-radius:10px;border:1px solid rgba(255,255,255,0.03)}
.controls{display:flex;gap:8px;align-items:center;margin-top:10px}
input[type=text], textarea{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit;font-size:13px}
textarea{min-height:120px;resize:vertical}
.btn{display:inline-flex;align-items:center;gap:8px;padding:9px 12px;border-radius:8px;border:none;cursor:pointer;background:linear-gradient(90deg,var(--accent),var(--accent2));color:#042;font-weight:600}
.btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--accent);font-weight:600}
.small{font-size:12px;padding:7px 10px}
.muted{color:var(--muted);font-size:13px}
.drop{border:2px dashed rgba(255,255,255,0.03);padding:14px;border-radius:8px;text-align:center}
table{width:100%;border-collapse:collapse;margin-top:10px}
th,td{padding:8px;text-align:left;border-bottom:1px dashed rgba(255,255,255,0.02);font-size:13px}
.token{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, monospace;font-size:12px;word-break:break-all}
.status-ok{color:#9ae6b4}
.status-err{color:#fca5a5}
footer{display:flex;justify-content:space-between;align-items:center;margin-top:12px}
.actions{display:flex;gap:8px}
.hint{font-size:12px;color:var(--muted)}

  </style>
</head>
<body>
  <div class="app" role="application">
    <header>
      <div class="logo">M</div>
      <div>
        <h1>Mary — JWT Token Generator</h1>
        <p class="lead">Upload or paste your id.json (or lines of uid,password). Generates JWT tokens via the public API.</p>
      </div>
    </header><div class="grid">
  <section class="card">
    <h3>Input</h3>
    <div style="display:flex;gap:8px;margin-top:8px;flex-wrap:wrap">
      <label class="btn ghost small" for="file">Upload JSON</label>
      <input id="file" type="file" accept="application/json,text/plain" style="display:none">
      <button id="parseBtn" class="btn small">Parse Paste</button>
      <button id="clearBtn" class="btn ghost small">Clear</button>
    </div>

    <div style="margin-top:12px" class="drop" id="dropzone">
      <div class="muted">Drop a file here or click <strong>Upload JSON</strong>. Or paste data into the textarea below.</div>
      <div style="margin-top:6px;font-size:12px;color:var(--muted)">Supports: JSON object {"uid":"...","password":"..."}, array of objects, or lines like <code>uid,password</code></div>
    </div>

    <div style="margin-top:12px">
      <textarea id="pasteArea" placeholder='Paste id.json content here (or multiple lines: uid,password). Example: {"uid":"3993678816","password":"ABC"} or [ {"uid":"...","password":"..."}, ... ]'></textarea>
    </div>

    <div class="controls">
      <label class="muted">API base:</label>
      <input id="apiBase" type="text" value="https://jnl-gen-jwt.vercel.app/token" style="max-width:420px">
      <button id="startBtn" class="btn">Generate</button>
    </div>

    <div style="margin-top:12px">
      <div class="muted">Progress: <span id="progress">0</span></div>
    </div>

    <div id="results" style="margin-top:12px"></div>
  </section>

  <aside class="card">
    <h3>Results & Tools</h3>
    <div class="muted">When tokens are generated they'll appear below. You can copy single tokens or download all results.</div>

    <div style="margin-top:10px;display:flex;gap:8px;flex-wrap:wrap">
      <button id="downloadJson" class="btn ghost small">Download JSON</button>
      <button id="downloadCsv" class="btn ghost small">Download CSV</button>
      <button id="copyAll" class="btn small">Copy All Tokens</button>
    </div>

    <div id="tableWrap" style="margin-top:12px;max-height:520px;overflow:auto"></div>

  </aside>
</div>

<footer>
  <div class="hint">Tip: If the API blocks CORS in your browser you can run this page locally with 'Live Server' in VSCode or use a simple local static server (python -m http.server).</div>
  <div class="muted">Made for you — Mary</div>
</footer>

  </div><script>
  const fileIn = document.getElementById('file');
  const drop = document.getElementById('dropzone');
  const paste = document.getElementById('pasteArea');
  const parseBtn = document.getElementById('parseBtn');
  const startBtn = document.getElementById('startBtn');
  const clearBtn = document.getElementById('clearBtn');
  const apiBaseInput = document.getElementById('apiBase');
  const progressEl = document.getElementById('progress');
  const resultsWrap = document.getElementById('results');
  const tableWrap = document.getElementById('tableWrap');
  const downloadJson = document.getElementById('downloadJson');
  const downloadCsv = document.getElementById('downloadCsv');
  const copyAll = document.getElementById('copyAll');

  let items = []; // {uid,password,token,status,message}

  function reset() {
    items = [];
    renderTable();
    progressEl.textContent = '0';
    resultsWrap.innerHTML = '';
  }

  clearBtn.addEventListener('click', reset);

  fileIn.addEventListener('change', async (e)=>{
    const f = e.target.files[0];
    if(!f) return;
    const txt = await f.text();
    paste.value = txt;
    parseInput();
  });

  ['dragenter','dragover'].forEach(ev=>drop.addEventListener(ev,(e)=>{e.preventDefault();drop.style.borderColor='#2dd4bf'}));
  ['dragleave','drop'].forEach(ev=>drop.addEventListener(ev,(e)=>{e.preventDefault();drop.style.borderColor='';}));
  drop.addEventListener('drop',(e)=>{
    const f = e.dataTransfer.files && e.dataTransfer.files[0];
    if(!f) return;
    const reader = new FileReader();
    reader.onload = ()=>{ paste.value = reader.result; parseInput(); }
    reader.readAsText(f);
  });

  parseBtn.addEventListener('click', parseInput);

  function parseInput(){
    const txt = paste.value.trim();
    if(!txt) { alert('Paste your id.json content or upload a file first.'); return; }
    try{
      let parsed = null;
      if(txt.startsWith('{')||txt.startsWith('[')){
        parsed = JSON.parse(txt);
      }

      const extracted = [];
      if(parsed){
        if(Array.isArray(parsed)){
          for(const o of parsed){ if(o.uid && o.password) extracted.push({uid:String(o.uid),password:String(o.password)}); }
        } else if(parsed.uid && parsed.password){
          extracted.push({uid:String(parsed.uid),password:String(parsed.password)});
        } else {
          // try find objects inside
          for(const key in parsed){ const v = parsed[key]; if(v && typeof v === 'object' && v.uid && v.password) extracted.push({uid:String(v.uid),password:String(v.password)}); }
        }
      } else {
        // try line based parsing
        const lines = txt.split(/\r?\n/).map(s=>s.trim()).filter(Boolean);
        for(const line of lines){
          const sep = line.includes(',')?',':(line.includes(':')?':':null);
          if(sep){
            const [a,b]=line.split(sep).map(s=>s.trim()); if(a && b) extracted.push({uid:a,password:b});
          } else if(line.match(/^\d{6,}$/)){
            // maybe only uid (skip)
            extracted.push({uid:line,password:''});
          }
        }
      }

      if(extracted.length===0){ alert('Koi valid uid/password nahin mila. Make sure input format is correct.'); return; }
      items = extracted.map(x=>({uid:x.uid,password:x.password,token:'',status:'pending',message:''}));
      renderTable();
      progressEl.textContent = '0';
    }catch(err){ console.error(err); alert('Parse error: '+err.message); }
  }

  startBtn.addEventListener('click', ()=>{
    if(items.length===0){ alert('No items to generate. Paste or upload first.'); return; }
    generateAll();
  });

  async function generateAll(){
    const base = apiBaseInput.value.trim();
    if(!base){ alert('API base required'); return; }
    let completed = 0;
    for(let i=0;i<items.length;i++){
      const it = items[i];
      try{
        items[i].status = 'running'; renderTable();
        const url = `${base}?uid=${encodeURIComponent(it.uid)}&password=${encodeURIComponent(it.password)}`;
        const resp = await fetch(url);
        if(!resp.ok) throw new Error('HTTP '+resp.status);
        const data = await resp.json();
        if(data && data.token){ items[i].token = data.token; items[i].status = 'ok'; items[i].message = data.status || 'ok'; }
        else { items[i].status = 'error'; items[i].message = JSON.stringify(data).slice(0,200); }
      }catch(err){ items[i].status = 'error'; items[i].message = (err && err.message) || 'fetch error'; }
      completed++;
      progressEl.textContent = `${completed}/${items.length}`;
      renderTable();
      // small pause to avoid hammering
      await new Promise(r=>setTimeout(r, 250));
    }
  }

  function renderTable(){
    if(items.length===0){ tableWrap.innerHTML = '<div class="muted">No results yet.</div>'; return; }
    const rows = items.map((it,idx)=>`<tr>
      <td>${idx+1}</td>
      <td>${escapeHtml(it.uid)}</td>
      <td class="token">${it.token?escapeHtml(it.token):'<span class="muted">(no token)</span>'}</td>
      <td class="${it.status==='ok'?'status-ok':it.status==='error'?'status-err':'muted'}">${escapeHtml(it.status)}${it.message?': '+escapeHtml(it.message):''}</td>
      <td style="white-space:nowrap">
        <button class="btn small" onclick="copyToken(${idx})">Copy</button>
        <button class="btn ghost small" onclick="showRaw(${idx})">Raw</button>
      </td>
    </tr>`).join('');
    tableWrap.innerHTML = `<table><thead><tr><th>#</th><th>UID</th><th>Token</th><th>Status</th><th>Actions</th></tr></thead><tbody>${rows}</tbody></table>`;
  }

  function escapeHtml(s){ if(s==null) return ''; return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }

  window.copyToken = async (i)=>{
    const it = items[i]; if(!it || !it.token){ alert('No token to copy'); return; }
    try{ await navigator.clipboard.writeText(it.token); alert('Copied token for '+it.uid); }catch(e){ prompt('Copy token (Ctrl+C, Enter):', it.token); }
  }
  window.showRaw = (i)=>{ const it = items[i]; alert(JSON.stringify(it, null, 2)); }

  downloadJson.addEventListener('click', ()=>{
    if(items.length===0) return alert('No results');
    const blob = new Blob([JSON.stringify(items, null, 2)], {type:'application/json'});
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a'); a.href = url; a.download = 'jwt-results.json'; a.click(); URL.revokeObjectURL(url);
  });

  downloadCsv.addEventListener('click', ()=>{
    if(items.length===0) return alert('No results');
    const lines = ['uid,password,token,status,message'];
    for(const it of items){ lines.push(`${csvSafe(it.uid)},${csvSafe(it.password)},${csvSafe(it.token)},${csvSafe(it.status)},${csvSafe(it.message)}`); }
    const blob = new Blob([lines.join('\n')], {type:'text/csv'});
    const url = URL.createObjectURL(blob); const a=document.createElement('a'); a.href=url; a.download='jwt-results.csv'; a.click(); URL.revokeObjectURL(url);
  });

  copyAll.addEventListener('click', async ()=>{
    const all = items.filter(i=>i.token).map(i=>i.token).join('\n');
    if(!all) return alert('No tokens available to copy');
    try{ await navigator.clipboard.writeText(all); alert('All tokens copied to clipboard'); }catch(e){ prompt('Copy all tokens', all); }
  });

  function csvSafe(v){ if(v==null) return '""'; return '"'+String(v).replace(/"/g,'""')+'"'; }

  // small UX: if user pastes JSON, parse automatically after short delay
  let pasteTimer = null; paste.addEventListener('input', ()=>{ clearTimeout(pasteTimer); pasteTimer = setTimeout(()=>{/* no auto-parse - let user click Parse */},400); });

</script></body>
</html>
